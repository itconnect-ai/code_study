# AI 코드 학습 플랫폼

**완전 초보자를 위한 바이브코딩 학습 서비스 기획서 (현재 프로젝트 구조 반영 버전)**

---

## 1. 서비스 개요

### 1.1 한 줄 요약

> AI가 만들어준 코드를 **"프로그래밍 교재처럼"** 상세하게 설명해주고, 직접 실습까지 해볼 수 있는 서비스

### 1.2 핵심 특징

| 항목 | 내용 |
|------|------|
| 대상 | 완전 초보자 (개발 경험 없음) |
| 설명 방식 | 프로그래밍 교재처럼 아주 상세하게 |
| 실습 | 직접 코드를 따라 쳐보는 실습 문제 포함 |
| 업로드 방식 | 프로젝트 전체가 아니라 Task 단위로 하나씩 |

### 1.3 비유로 이해하기

**요리를 생각해보세요.**

- **지금 바이브코딩 상황:** 셰프(AI)가 요리를 다 만들어줌 → 맛있게 먹음 → 근데 나중에 간이 안 맞으면? 어디를 고쳐야 할지 모름
- **이 서비스 사용 후:** 셰프가 요리하면서 "이 재료는 이래서 넣었고, 이 순서로 해야 이 맛이 나요"라고 설명해줌 → 나중에 내 입맛대로 수정 가능

---

## 2. 전체 사용 흐름

```
프로젝트 생성 (예: "쇼핑몰 만들기")
        ↓
Task 1 코드 업로드 → 교재 생성 → 교재 학습 → 실습 문제 풀기 → 질문하기
        ↓
Task 2 코드 업로드 → 교재 생성 → 교재 학습 → 실습 문제 풀기 → 질문하기
        ↓
Task 3 코드 업로드 → ...
        ↓
프로젝트 완성! (Task별 교재가 순서대로 쌓여있음)
```

---

## 3. 프로젝트와 Task 구조

### 3.1 개념 설명

- **프로젝트** = 책 한 권
- **Task** = 책의 챕터

**예시:**
```
📚 프로젝트: 쇼핑몰 만들기
   ├── 📖 Task 1: 프로젝트 세팅하기
   ├── 📖 Task 2: 상품 목록 화면 만들기
   ├── 📖 Task 3: 장바구니 기능 만들기
   ├── 📖 Task 4: 결제 페이지 만들기
   └── 📖 Task 5: 회원가입/로그인 만들기
```

### 3.2 왜 Task 단위로 나누나요?

| 한 번에 전부 올리면 | Task 단위로 올리면 |
|-------------------|------------------|
| 내용이 너무 많아서 어디서부터 봐야 할지 모름 | 한 번에 하나씩, 순서대로 학습 |
| 앞부분을 이해 못 하면 뒷부분도 못 따라감 | 앞 Task를 완전히 이해하고 다음으로 넘어감 |
| 실습하기 어려움 | Task마다 실습 → 직접 해보면서 체득 |

---

## 4. 기능 상세 설명

### 4.1 기능 1: Task 코드 업로드

#### 업로드 방법

| 방법 | 설명 |
|------|------|
| 파일 올리기 | 해당 Task에서 만든 파일을 올림 (단일/다중 파일) |
| 폴더 올리기 | 폴더 전체를 올림 (디렉토리 구조 유지) |
| 복사 붙여넣기 | AI가 만들어준 코드를 복사해서 붙여넣기 (언어 선택) |

> **참고:** 현재 시스템은 3가지 업로드 방식을 지원합니다.
> 바이너리 파일은 자동 거부되며, 업로드당 최대 20파일, 10MB 제한이 적용됩니다.
> `.git`, `node_modules`, `__pycache__` 등 빌드/시스템 폴더는 자동 제외됩니다.

#### 업로드할 때 입력하는 것

- **Task 이름:** 예) "장바구니 기능 만들기" (최소 5자)
- **Task 설명 (선택):** 예) "상품을 담고 삭제하는 기능" (최대 500자)
- **업로드 방법 선택:** 파일 / 폴더 / 붙여넣기

#### 화면 예시

```
┌─────────────────────────────────────────────────┐
│  📚 쇼핑몰 만들기 > 새 Task 추가                  │
├─────────────────────────────────────────────────┤
│                                                 │
│  Task 이름: [장바구니 기능 만들기        ]       │
│                                                 │
│  Task 설명: [상품 담기, 삭제, 수량 변경   ]       │
│                                                 │
│  업로드 방법:  [파일] [폴더] [붙여넣기]           │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │                                         │   │
│  │     코드 파일을 여기에 끌어다 놓으세요     │   │
│  │           또는 클릭해서 선택             │   │
│  │                                         │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│                              [교재 만들기 →]    │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

### 4.2 기능 2: 프로그래밍 교재 생성 (핵심)

#### 교재의 특징

- **완전 초보자 기준:** 프로그래밍을 전혀 모르는 사람도 이해할 수 있게
- **비유와 예시 풍부:** 일상생활에 비유해서 설명
- **한 줄 한 줄 설명:** 코드 모든 줄에 상세한 설명
- **비동기 생성:** Celery 워커가 백그라운드에서 교재를 생성하며, 완성 시 자동 표시

#### 교재 구성 — 7장 구조 (Task 하나당)

> **현재 시스템은 7장 구조를 사용합니다.**
> 교재는 JSONB 포맷으로 DB에 저장되며, 생성 후 불변(immutable)입니다.

| 장 | 제목 | 내용 | JSONB 키 |
|----|------|------|----------|
| 1장 | 이 코드가 하는 일 (What This Code Does) | 코드의 목적을 일상 언어 한 문장으로 요약 | `chapter1` |
| 2장 | 알아야 할 기본 개념 (Prerequisites Knowledge) | 코드를 이해하기 위한 핵심 개념 카드 (최대 5개) | `chapter2` |
| 3장 | 코드 구조 한눈에 보기 (Code Structure Overview) | ASCII 플로우차트 + 파일/섹션별 역할 설명 | `chapter3` |
| 4장 | 코드 한 줄씩 완전 해부 (Line-by-Line Explanation) | 모든 줄에 대한 상세 설명, 구문 분석, 비유 | `chapter4` |
| 5장 | 실행 흐름 따라가기 (Execution Flow Simulation) | 실제 값을 넣어서 한 단계씩 실행 과정 추적 | `chapter5` |
| 6장 | 핵심 개념 정리 (Core Concepts Summary) | 이 코드에서 배운 프로그래밍 개념 총정리 | `chapter6` |
| 7장 | 자주 하는 실수 & 해결법 (Common Mistakes) | 초보자가 자주 하는 실수 3~5개와 해결책 | `chapter7` |

---

#### 교재 내용 예시

##### 📘 1장. 이 코드가 하는 일 (What This Code Does)

> **스키마:** `{ title, summary }`

```json
{
    "title": "이 코드가 하는 일",
    "summary": "이 코드는 온라인 쇼핑몰에서 마트 카트처럼 상품을 담고 빼는 장바구니 기능을 만들어요. '담기' 버튼을 누르면 장바구니에 들어가고, '삭제' 버튼을 누르면 빠집니다."
}
```

**화면에 보이는 모습:**

> **이 코드가 하는 일**
>
> 이 코드는 온라인 쇼핑몰에서 마트 카트처럼 상품을 담고 빼는 장바구니 기능을 만들어요. '담기' 버튼을 누르면 장바구니에 들어가고, '삭제' 버튼을 누르면 빠집니다.

---

##### 📘 2장. 알아야 할 기본 개념 (Prerequisites Knowledge)

> **스키마:** `{ title, concepts: [{ name, explanation, analogy, example, use_cases }] }` (최대 5개)

**useState (유즈스테이트)**

```json
{
    "name": "useState",
    "explanation": "변하는 값을 저장하는 상자예요. 화면에 보이는 숫자나 목록이 바뀌면, 이 상자가 새 값을 기억해서 화면을 자동으로 업데이트해줘요.",
    "analogy": "화이트보드에 숫자를 적어놓고, 지웠다 다시 쓰는 것과 비슷해요. 장바구니에 상품이 3개 담겨있다가 1개 빼면 2개로 바뀌죠? 이렇게 바뀌는 숫자를 기억해두는 게 useState예요.",
    "example": "const [count, setCount] = useState(0);  // count라는 상자에 0을 넣어둠",
    "use_cases": "장바구니 상품 개수, 좋아요 숫자, 로그인 상태 등 화면에서 바뀌는 모든 값에 사용돼요."
}
```

**const (상수 선언)**

```json
{
    "name": "const",
    "explanation": "'이건 고정이야'라는 선언이에요. 한번 이름표를 붙이면 다른 것으로 바꿀 수 없어요. (하지만 상자 안의 내용물은 바뀔 수 있어요)",
    "analogy": "택배 상자에 '장바구니'라는 이름표를 붙이는 거예요. 이름표는 떼지 못하지만, 상자 안에 물건을 넣었다 뺐다 할 수는 있어요.",
    "example": "const name = '홍길동';  // name이라는 이름표를 붙임",
    "use_cases": "변수 이름을 정할 때 거의 항상 사용해요. 실수로 값을 덮어쓰는 걸 방지해줍니다."
}
```

---

##### 📘 3장. 코드 구조 한눈에 보기 (Code Structure Overview)

> **스키마:** `{ title, flowchart, file_breakdown }`

```json
{
    "title": "코드 구조 한눈에 보기",
    "flowchart": "[시작]\n   |\n   v\n[빈 장바구니 생성]\n   |\n   v\n[사용자가 '담기' 클릭?]\n  / \\\nYes   No\n |     |\n v     v\n[addToCart 실행]  [기다림]\n |                |\n v                v\n[장바구니 업데이트] [사용자가 '삭제' 클릭?]\n |                  / \\\n v                Yes   No\n[화면 새로고침]   |     |\n                  v     v\n            [removeFromCart]  [기다림]\n                  |\n                  v\n            [장바구니 업데이트]\n                  |\n                  v\n            [화면 새로고침]",
    "file_breakdown": {
        "import 섹션": "외부 도구(React의 useState)를 가져오는 부분",
        "상태 선언": "장바구니 데이터를 저장할 상자를 만드는 부분",
        "addToCart 함수": "상품을 장바구니에 넣는 기능",
        "removeFromCart 함수": "상품을 장바구니에서 빼는 기능",
        "화면 렌더링": "장바구니 내용을 화면에 보여주는 부분"
    }
}
```

**화면에 보이는 모습:**

```
[시작]
   |
   v
[빈 장바구니 생성]
   |
   v
[사용자가 '담기' 클릭?]
  / \
Yes   No
 |     |
 v     v
[addToCart 실행]  [기다림]
 ...
```

| 섹션 | 역할 |
|------|------|
| import 섹션 | 외부 도구(React의 useState)를 가져오는 부분 |
| 상태 선언 | 장바구니 데이터를 저장할 상자를 만드는 부분 |
| addToCart 함수 | 상품을 장바구니에 넣는 기능 |
| removeFromCart 함수 | 상품을 장바구니에서 빼는 기능 |
| 화면 렌더링 | 장바구니 내용을 화면에 보여주는 부분 |

---

##### 📘 4장. 코드 한 줄씩 완전 해부 (Line-by-Line Explanation)

> **스키마:** `{ title, explanations: [{ line_number, code, what_it_does, syntax_breakdown, analogy?, alternatives?, important_notes? }] }`

```javascript
// 1번 줄
import { useState } from 'react';
```

```json
{
    "line_number": 1,
    "code": "import { useState } from 'react';",
    "what_it_does": "React라는 도구 상자에서 'useState'라는 도구를 꺼내옵니다. 이 도구는 화면에서 바뀌는 값을 기억하는 데 사용돼요.",
    "syntax_breakdown": "'import' = '가져오다'라는 뜻. '{ useState }' = 가져올 도구 이름 (중괄호는 '이 중에서 골라서'라는 뜻). 'from' = '~에서'. 'react' = React라는 도구 상자 이름.",
    "analogy": "공구함(react)에서 드라이버(useState)를 꺼내는 것과 같아요. 공구함에는 다른 도구도 많지만, 지금은 드라이버만 필요하니까 그것만 꺼내요.",
    "alternatives": "import React from 'react'로 전체를 가져올 수도 있지만, 필요한 것만 골라 가져오는 게 효율적이에요.",
    "important_notes": "import는 항상 파일 맨 위에 써야 해요. 중간에 쓰면 에러가 나요."
}
```

---

```javascript
// 2번 줄
const [cart, setCart] = useState([]);
```

```json
{
    "line_number": 2,
    "code": "const [cart, setCart] = useState([]);",
    "what_it_does": "'cart'라는 장바구니 상자를 만들고, 처음에는 텅 빈 상태([])로 시작합니다. 'setCart'는 이 상자의 내용을 바꾸는 리모컨이에요.",
    "syntax_breakdown": "'const' = 이름표 고정. '[cart, setCart]' = 두 개를 한번에 받음 (값 읽기용, 값 바꾸기용). '=' = 오른쪽 결과를 왼쪽에 넣기. 'useState([])' = 빈 배열([])로 시작하는 변하는 값 상자 만들기.",
    "analogy": "cart = 장바구니 (지금 뭐가 담겨있는지 보여줌). setCart = 장바구니 관리자 (담거나 빼는 역할). [] = 처음엔 텅 빈 상태.",
    "important_notes": "setCart 대신 cart를 직접 수정하면 화면이 안 바뀌어요! 반드시 setCart를 사용해야 합니다."
}
```

---

```javascript
// 3번 줄
const addToCart = (item) => {
```

```json
{
    "line_number": 3,
    "code": "const addToCart = (item) => {",
    "what_it_does": "'장바구니에 담기'라는 이름의 기능(함수)을 만듭니다. 어떤 상품(item)을 받아서 처리해요.",
    "syntax_breakdown": "'const addToCart' = '장바구니에 담기'라는 이름의 기능 만들기. '(item)' = 어떤 상품을 담을지 받아옴 (item = 상품). '=>' = '이렇게 해라'라는 화살표 (함수 시작). '{' = 여기서부터 실제로 할 일이 시작.",
    "analogy": "'손님이 상품(item)을 주면, 이렇게(=>) 처리해라{...}' 라고 매뉴얼을 만들어두는 거예요. 나중에 누군가 addToCart를 부르면 이 매뉴얼대로 실행돼요."
}
```

*(이런 식으로 모든 줄을 설명)*

---

##### 📘 5장. 실행 흐름 따라가기 (Execution Flow Simulation)

> **스키마:** `{ title, steps: [{ step_number, action, data_state, explanation }] }`

```json
{
    "title": "실행 흐름 따라가기",
    "steps": [
        {
            "step_number": 1,
            "action": "컴퓨터가 1번 줄을 읽음: import { useState } from 'react'",
            "data_state": "(아직 저장된 값 없음)",
            "explanation": "React라는 도구 상자에서 useState 도구를 꺼내서 준비합니다. 아직 아무 데이터도 만들지 않았어요."
        },
        {
            "step_number": 2,
            "action": "컴퓨터가 2번 줄을 읽음: const [cart, setCart] = useState([])",
            "data_state": "cart = [] (빈 배열)",
            "explanation": "빈 장바구니(cart)를 만들었어요. 지금은 아무것도 안 담겨 있는 상태예요. 마트에 들어가서 빈 카트를 하나 집은 거죠."
        },
        {
            "step_number": 3,
            "action": "사용자가 '사과' 상품의 '담기' 버튼을 클릭",
            "data_state": "cart = [], item = { id: 1, name: '사과', price: 1000 }",
            "explanation": "사용자가 사과를 담으려고 버튼을 눌렀어요. addToCart 함수가 호출되면서 item에 사과 정보가 들어옵니다."
        },
        {
            "step_number": 4,
            "action": "setCart가 실행되어 cart에 사과가 추가됨",
            "data_state": "cart = [{ id: 1, name: '사과', price: 1000 }]",
            "explanation": "setCart가 기존 장바구니(비어있음)에 사과를 추가해서 새 장바구니를 만들었어요. 화면이 자동으로 업데이트되어 장바구니에 사과가 보입니다."
        },
        {
            "step_number": 5,
            "action": "사용자가 '바나나' 상품의 '담기' 버튼을 클릭",
            "data_state": "cart = [{ id: 1, name: '사과', price: 1000 }], item = { id: 2, name: '바나나', price: 500 }",
            "explanation": "또 다른 상품을 담으려고 해요. 이번에는 장바구니에 이미 사과가 있는 상태에서 바나나를 추가합니다."
        },
        {
            "step_number": 6,
            "action": "setCart가 실행되어 cart에 바나나가 추가됨",
            "data_state": "cart = [{ id: 1, name: '사과', price: 1000 }, { id: 2, name: '바나나', price: 500 }]",
            "explanation": "...cart로 기존 상품(사과)을 꺼내고, 거기에 바나나를 추가해서 새 장바구니를 만들었어요. 이제 장바구니에 상품 2개가 보입니다."
        }
    ]
}
```

**화면에 보이는 모습:**

```
Step 1: 컴퓨터가 1번 줄을 읽음
        → (아직 저장된 값 없음)
        → React 도구 상자에서 useState 준비
            ↓
Step 2: 빈 장바구니 생성
        → cart = []
        → 마트에서 빈 카트를 집은 상태
            ↓
Step 3: 사용자가 '사과' 담기 클릭
        → cart = [], item = {사과}
        → addToCart 함수 호출됨
            ↓
Step 4: 장바구니에 사과 추가됨
        → cart = [{사과}]
        → 화면 자동 업데이트
            ↓
        ...
```

---

##### 📘 6장. 핵심 개념 정리 (Core Concepts Summary)

> **스키마:** `{ title, concepts: [{ concept_name, what_it_is, why_used, where_applied }] }`

```json
{
    "title": "핵심 개념 정리",
    "concepts": [
        {
            "concept_name": "useState (상태 관리)",
            "what_it_is": "화면에서 바뀌는 값을 저장하고, 값이 바뀌면 화면을 자동으로 다시 그려주는 React의 핵심 기능이에요.",
            "why_used": "일반 변수는 화면이 새로고침되면 사라져요. useState를 쓰면 값이 바뀔 때마다 화면이 자동으로 업데이트되기 때문에 사용해요.",
            "where_applied": "장바구니 상품 목록, 로그인 상태, 다크모드 켜기/끄기, 모달 열기/닫기 등 화면에서 바뀌는 모든 곳"
        },
        {
            "concept_name": "const (상수 선언)",
            "what_it_is": "고정된 이름표를 붙이는 선언이에요. 한번 이름을 정하면 다른 이름으로 바꿀 수 없어요.",
            "why_used": "실수로 변수를 덮어쓰는 것을 방지해요. 코드가 예측 가능하게 동작하도록 도와줍니다.",
            "where_applied": "거의 모든 변수 선언에 사용됩니다. let(바꿀 수 있는 변수)보다 const를 먼저 고려하는 게 좋은 습관이에요."
        },
        {
            "concept_name": "화살표 함수 (Arrow Function)",
            "what_it_is": "특정 일을 수행하는 기계(함수)를 만드는 방법이에요. '=>' 화살표로 '이렇게 해라'를 표현해요.",
            "why_used": "코드를 짧고 깔끔하게 쓸 수 있어요. 버튼 클릭, 데이터 처리 등 반복되는 작업을 한 번만 정의하면 됩니다.",
            "where_applied": "버튼 클릭 처리, API 호출, 데이터 변환, 이벤트 핸들링 등 거의 모든 기능 구현"
        },
        {
            "concept_name": "배열 (Array)",
            "what_it_is": "여러 개의 값을 순서대로 담는 리스트예요. 대괄호 []로 만들어요.",
            "why_used": "장바구니 상품 목록처럼 여러 개의 데이터를 한 곳에 모아서 관리할 때 사용해요.",
            "where_applied": "쇼핑 목록, 할 일 목록, 검색 결과 목록, 채팅 메시지 목록 등"
        },
        {
            "concept_name": "스프레드 연산자 (...)",
            "what_it_is": "배열이나 객체를 '펼쳐서' 복사하는 문법이에요. 점 세 개(...)를 앞에 붙여요.",
            "why_used": "기존 데이터를 건드리지 않고 새로운 데이터를 만들 때 써요. React에서는 이 방식을 꼭 지켜야 화면이 제대로 업데이트돼요.",
            "where_applied": "장바구니에 상품 추가, 목록에 새 항목 추가, 설정값 복사 후 일부만 변경 등"
        }
    ]
}
```

---

##### 📘 7장. 자주 하는 실수 & 해결법 (Common Mistakes)

> **스키마:** `{ title, mistakes: [{ mistake_title, wrong_code, right_code, why_it_matters, how_to_fix }] }` (3~5개)

```json
{
    "title": "자주 하는 실수 & 해결법",
    "mistakes": [
        {
            "mistake_title": "useState를 import 안 하고 사용하기",
            "wrong_code": "const [cart, setCart] = useState([]);",
            "right_code": "import { useState } from 'react';\n\nconst [cart, setCart] = useState([]);",
            "why_it_matters": "useState is not defined 에러가 발생해요. React에서 도구를 가져오지 않으면 컴퓨터가 useState가 뭔지 몰라요.",
            "how_to_fix": "파일 맨 위에 import { useState } from 'react'; 를 꼭 써주세요. 대소문자도 정확히 맞춰야 해요 (useState ○, UseState ✕)."
        },
        {
            "mistake_title": "setCart 대신 cart를 직접 수정하기",
            "wrong_code": "cart.push(newItem);  // 직접 수정 - 화면 안 바뀜!",
            "right_code": "setCart([...cart, newItem]);  // setCart로 수정 - 화면 바뀜!",
            "why_it_matters": "cart를 직접 바꾸면 React가 '값이 바뀌었다'는 걸 모르기 때문에 화면이 업데이트되지 않아요. 버그처럼 보이지만 사실 사용법이 잘못된 거예요.",
            "how_to_fix": "상태값을 바꿀 때는 반드시 set 함수(setCart)를 사용하세요. '읽기는 cart, 쓰기는 setCart'라고 외우면 쉬워요."
        },
        {
            "mistake_title": "빈 배열 대신 빈 소괄호 사용하기",
            "wrong_code": "const [cart, setCart] = useState();  // undefined로 시작!",
            "right_code": "const [cart, setCart] = useState([]);  // 빈 배열로 시작",
            "why_it_matters": "useState()에 아무것도 안 넣으면 cart가 undefined가 돼요. 나중에 cart.map() 같은 걸 쓰면 'Cannot read property of undefined' 에러가 나요.",
            "how_to_fix": "장바구니처럼 여러 개를 담을 거면 useState([])로 빈 배열을 넣어주세요. 숫자면 useState(0), 글자면 useState('')를 넣어요."
        }
    ]
}
```

**화면에 보이는 모습:**

| 실수 | 잘못된 코드 | 올바른 코드 |
|------|-----------|-----------|
| useState를 import 안 하고 사용 | `const [cart, setCart] = useState([]);` | `import { useState } from 'react';` ← 이 줄 추가 |
| setCart 대신 cart 직접 수정 | `cart.push(newItem);` | `setCart([...cart, newItem]);` |
| 빈 배열 대신 빈 소괄호 사용 | `useState()` | `useState([])` |

---

### 4.3 기능 3: 실습 문제 시스템 (교재와 분리된 별도 기능)

> **참고:** 실습 문제는 교재(7장)와 별도의 독립 기능입니다.
> 교재를 읽은 후 "실습" 탭에서 접근합니다.
> 현재 5단계 난이도로 설계되어 있습니다.

#### 실습 유형 (5단계)

| 단계 | 유형 | 설명 | 난이도 |
|------|------|------|--------|
| Level 1 | 따라 치기 (Follow Along) | 코드를 보고 그대로 타이핑 | ⭐ |
| Level 2 | 빈칸 채우기 (Fill in the Blanks) | 일부가 비어있는 코드 완성 | ⭐⭐ |
| Level 3 | 코드 수정하기 (Modify Code) | 기존 코드를 요구에 맞게 변경 | ⭐⭐⭐ |
| Level 4 | 버그 찾기 (Debug) | 틀린 부분 찾아서 수정 | ⭐⭐⭐⭐ |
| Level 5 | 새로 만들기 (Create New) | 배운 걸 활용해서 새 기능 만들기 | ⭐⭐⭐⭐⭐ |

#### 실습 화면 예시

```
┌─────────────────────────────────────────────────┐
│  [📖 교재]  [🏋️ 실습]  [💬 Q&A]                  │
├─────────────────────────────────────────────────┤
│                                                 │
│  실습 2: 빈칸 채우기                    ⭐⭐      │
│                                                 │
│  아래 코드의 빈칸을 채워 장바구니에 상품을         │
│  추가하는 함수를 완성하세요.                      │
│                                                 │
│  ┌─────────────────────────────────────────┐   │
│  │ const addToCart = (______) => {         │   │
│  │   setCart([...cart, ______]);           │   │
│  │ };                                      │   │
│  └─────────────────────────────────────────┘   │
│                                                 │
│  💡 힌트: 담을 상품을 뭐라고 불렀죠?             │
│                                                 │
│  [정답 확인]  [힌트 더 보기]  [포기하고 답 보기]   │
│                                                 │
│  진행: ██████░░░░ 2/5 완료                       │
│                                                 │
└─────────────────────────────────────────────────┘
```

#### 정답 확인 후 화면

```
┌─────────────────────────────────────────────────┐
│  ✅ 정답입니다!                                  │
├─────────────────────────────────────────────────┤
│                                                 │
│  당신의 답:                                      │
│  const addToCart = (item) => {                  │
│    setCart([...cart, item]);                    │
│  };                                             │
│                                                 │
│  📝 추가 설명:                                   │
│  item을 받아서 기존 cart에 추가하는 방식이에요.   │
│  ...cart로 기존 상품들을 펼치고, 뒤에 새 item을   │
│  붙이는 거죠.                                    │
│                                                 │
│  [다음 실습으로 →]                               │
│                                                 │
└─────────────────────────────────────────────────┘
```

---

### 4.4 기능 4: 질문하고 답변받기 (Q&A)

#### 작동 방식

```
교재를 읽다가 모르는 부분 클릭
        ↓
"이게 뭐예요?" 버튼 클릭
        ↓
AI가 더 쉽게 설명
        ↓
대화 기록이 유지됨 (이전 질문 다시 확인 가능)
```

#### Q&A 예시

**질문:** "...cart 에서 점 세 개가 뭐예요?"

**답변:**

> `...`은 "스프레드 연산자"라고 해요. 어려운 이름이지만 하는 일은 간단해요.
>
> **비유:** 가방에 있는 물건을 전부 꺼내서 펼쳐놓는 거예요.
>
> ```javascript
> const fruits = ['사과', '바나나'];
> const newFruits = [...fruits, '포도'];
> // 결과: ['사과', '바나나', '포도']
> ```
>
> **위 코드 설명:**
> 1. fruits 가방에 사과, 바나나가 있음
> 2. `...fruits`로 가방을 뒤집어서 전부 꺼냄
> 3. 거기에 포도를 추가
> 4. 새 가방(newFruits)에 다시 담음
>
> **왜 이렇게 하나요?**
> 기존 가방(fruits)은 건드리지 않고, 새 가방을 만들고 싶을 때 써요.

---

## 5. 프로젝트 대시보드

### 5.1 프로젝트 목록 화면

내가 만든 프로젝트들을 한눈에 볼 수 있는 화면입니다.

```
┌─────────────────────────────────────────────────┐
│  내 프로젝트                    [+ 새 프로젝트]   │
├─────────────────────────────────────────────────┤
│                                                 │
│  📚 쇼핑몰 만들기                                │
│     Task 5개 중 3개 완료 ████████░░░ 60%        │
│     마지막 학습: 어제                            │
│                                                 │
│  📚 포트폴리오 사이트                            │
│     Task 3개 중 1개 완료 ███░░░░░░░ 33%         │
│     마지막 학습: 3일 전                          │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 5.2 Task 목록 화면

프로젝트 안에 들어가면 Task별 학습 현황을 볼 수 있습니다.

> **참고:** Task 번호는 자동 부여되며 변경 불가합니다. 삭제된 Task는 휴지통으로 이동하며 30일 후 자동 영구 삭제됩니다.

```
┌─────────────────────────────────────────────────┐
│  📚 쇼핑몰 만들기                                │
├─────────────────────────────────────────────────┤
│                                                 │
│  ✅ Task 1: 프로젝트 세팅하기         1월 15일   │
│     └ 교재 읽기 완료 · 실습 5/5 완료             │
│                                                 │
│  ✅ Task 2: 상품 목록 화면             1월 17일   │
│     └ 교재 읽기 완료 · 실습 5/5 완료             │
│                                                 │
│  🔄 Task 3: 장바구니 기능              (진행중)   │
│     └ 교재 5/7장 읽음 · 실습 2/5 완료            │
│                                                 │
│  ⬜ Task 4: 결제 페이지               (미시작)    │
│                                                 │
│  ⬜ Task 5: 회원가입/로그인           (미시작)    │
│                                                 │
│  [+ 새 Task 추가]    [🗑️ 휴지통]                 │
│                                                 │
└─────────────────────────────────────────────────┘
```

### 5.3 Task 교재 읽기 화면 (핵심 — 2단 레이아웃)

> **현재 구현:** 왼쪽(코드 패널) + 오른쪽(설명 패널) 2단 레이아웃.
> 7장 탭 네비게이션으로 장을 자유롭게 이동할 수 있습니다.

```
┌──────────────────────────────────────────────────────┐
│ [← 목록]  Task 3: 장바구니 기능                       │
│                                                      │
│ [📖 교재]  [🏋️ 실습]  [💬 Q&A]                       │
├─────────────────────────────┬────────────────────────┤
│                             │                        │
│  💻 코드 패널 (왼쪽)         │  📖 설명 패널 (오른쪽)   │
│                             │                        │
│                             │  [1장] [2장] [3장]      │
│  1 │ import { useState }    │  [4장] [5장] [6장]      │
│  2 │   from 'react';        │  [7장]                  │
│  3 │                        │                        │
│  4 │ const [cart, setCart]   │  ─────────────────     │
│  5 │   = useState([]);      │                        │
│  6 │                        │  # 4장. 코드 한 줄씩    │
│  7 │ const addToCart =       │       완전 해부         │
│  8 │   (item) => {          │                        │
│  9 │   setCart([             │  📌 1번 줄:             │
│ 10 │     ...cart, item      │  import { useState }    │
│ 11 │   ]);                  │  from 'react';          │
│ 12 │ };                     │                        │
│ 13 │                        │  이게 뭘 하는 거예요?   │
│ 14 │ const removeFromCart    │  React라는 도구 상자    │
│ 15 │   = (id) => {          │  에서 'useState'라는    │
│ 16 │   setCart(              │  도구를 꺼내옵니다...   │
│ 17 │     cart.filter(        │                        │
│ 18 │       item =>           │  구문 분석:             │
│ 19 │         item.id !== id  │  'import' = 가져오다   │
│ 20 │     )                  │  '{ useState }' = ...  │
│ 21 │   );                   │                        │
│ 22 │ };                     │  💡 비유:               │
│ 23 │                        │  공구함에서 드라이버를  │
│    │                        │  꺼내는 것과 같아요     │
│    │                        │                        │
└─────────────────────────────┴────────────────────────┘
```

**왼쪽:** 코드 패널 (구문 하이라이팅, 줄 번호)
**오른쪽:** 설명 패널 (7장 탭 네비게이션 + 장별 내용)

---

## 6. 전체 화면 흐름

```
[로그인/회원가입]
   ↓
[프로젝트 목록 (Dashboard)] ←─────────────────────┐
   ↓                                              │
[프로젝트 선택] 또는 [새 프로젝트 만들기]            │
   ↓                                              │
[Task 목록 (ProjectDetail)] ←──────────────┐     │
   ↓                                       │     │
[새 Task 추가] → [코드 업로드 (파일/폴더/붙여넣기)]│
   ↓                                       │     │
[AI가 교재 생성 중... (Celery 비동기)]       │     │
   ↓                                       │     │
[Task 교재 읽기 (TaskDetail)]               │     │
   ├── 📖 교재 탭                          │     │
   │   ├── 1장: 이 코드가 하는 일           │     │
   │   ├── 2장: 알아야 할 기본 개념         │     │
   │   ├── 3장: 코드 구조 한눈에 보기       │     │
   │   ├── 4장: 코드 한 줄씩 완전 해부      │     │
   │   ├── 5장: 실행 흐름 따라가기          │     │
   │   ├── 6장: 핵심 개념 정리             │     │
   │   └── 7장: 자주 하는 실수 & 해결법     │     │
   ├── 🏋️ 실습 탭 (별도 기능)              │     │
   │   └── Level 1~5 문제 풀기             │     │
   └── 💬 Q&A 탭                          │     │
       └── 질문하기 → 답변받기             │     │
   ↓                                       │     │
[Task 완료!] ──────────────────────────────┘     │
   ↓                                              │
[모든 Task 완료 → 프로젝트 완료!] ────────────────┘

[🗑️ 휴지통 (Trash)] → 복원 또는 30일 후 자동 삭제
```

---

## 7. 개발 우선순위

### 7.1 1단계 (MVP) — 핵심 기능

*이것만 있으면 서비스를 쓸 수 있음*

- [x] 회원가입/로그인 (JWT 인증)
- [x] 프로젝트 생성/관리
- [x] Task 단위 코드 업로드 (파일/폴더/붙여넣기)
- [x] AI 교재 생성 — 7장 구조 (Celery 비동기)
- [x] 코드 분석 (언어 감지, 복잡도 분석)
- [x] 교재 뷰어 (2단 레이아웃, 7장 탭 네비게이션)
- [x] 소프트 삭제/휴지통 (30일 보관)
- [ ] **실습 문제 시스템 (5단계)**
- [ ] **Q&A 채팅**

### 7.2 2단계 — 편의 기능

- [ ] 학습 진행률 표시 (챕터별, 실습별)
- [ ] 실습 힌트 단계적 공개
- [ ] Q&A 대화 기록 보존
- [ ] PDF 다운로드

### 7.3 3단계 — 고급 기능

- [ ] 이전 Task 내용 참조 (연결 학습 / 다음 Task 예고)
- [ ] 퀴즈/복습 시스템
- [ ] 코드 에디터 내장 (브라우저에서 바로 실습)
- [ ] Q&A 답변 → 교재에 주석 추가 (나만의 교재)

---

## 8. 현재 시스템 기술 구조 요약

| 영역 | 기술 스택 |
|------|----------|
| Backend | FastAPI + SQLAlchemy 2.0 + PostgreSQL + Celery + Redis |
| Frontend | React 18 + TypeScript + Vite + Tailwind CSS + Zustand |
| AI | Google Gemini + OpenRouter (provider 추상화) |
| 인증 | JWT (HTTPOnly Cookie) + bcrypt |
| 비동기 | Celery Worker (문서 생성, 실습 생성, 정리 큐) |
| 배포 | Docker Compose (로컬) / Railway (프로덕션) |

### 데이터 모델 관계

```
User (1:N) → Project
               ├── (1:N) → Task
               │            ├── (1:1) → UploadedCode (1:N) → CodeFile
               │            └── (1:1) → LearningDocument (JSONB, 7장)
               └── (soft delete → Trash, 30일 보관)
```

### 교재 JSONB 스키마 요약

```
LearningDocument.content = {
    "chapter1": { title, summary },
    "chapter2": { title, concepts: [{ name, explanation, analogy, example, use_cases }] },
    "chapter3": { title, flowchart, file_breakdown },
    "chapter4": { title, explanations: [{ line_number, code, what_it_does, syntax_breakdown, analogy?, alternatives?, important_notes? }] },
    "chapter5": { title, steps: [{ step_number, action, data_state, explanation }] },
    "chapter6": { title, concepts: [{ concept_name, what_it_is, why_used, where_applied }] },
    "chapter7": { title, mistakes: [{ mistake_title, wrong_code, right_code, why_it_matters, how_to_fix }] }
}
```

---

## 9. 핵심 포인트 정리

| 항목 | 핵심 내용 |
|------|----------|
| 대상 | 완전 초보자 — 프로그래밍 경험 없는 사람 |
| 업로드 방식 | Task 단위 업로드 (파일/폴더/붙여넣기 3가지) |
| 교재 구조 | **7장 구조** (요약 → 기본 개념 → 코드 구조 → 줄별 설명 → 실행 흐름 → 개념 정리 → 실수 방지) |
| 교재 저장 | JSONB 포맷, 생성 후 불변, Celery 비동기 생성 |
| 실습 | 별도 기능으로 5단계 (따라치기 → 빈칸 → 수정 → 디버그 → 새로 만들기) |
| Q&A | 교재 읽는 중 질문 가능, AI 답변, 대화 기록 유지 |
| 목표 | AI가 만든 코드를 "내 것"으로 만들어 수정 가능하게 |

---

## 10. 원본 기획서 대비 변경 사항

| 원본 기획서 | 변경 후 | 변경 사유 |
|-----------|---------|----------|
| 8장 구조 (실습/용어표/다음 Task 예고 포함) | **7장 구조** | 현재 구현된 JSONB 스키마, AI 프롬프트, 프론트 뷰어가 모두 7장 기준 |
| 5장: 실습 문제 (교재 안에 포함) | **실습은 별도 기능** (교재 탭 / 실습 탭 분리) | 현재 아키텍처에서 Practice는 독립 서비스로 설계됨 |
| 6장: 용어 정리표 (용어, 쉬운 설명, 비유) | **6장: 핵심 개념 정리** (concept_name, what_it_is, why_used, where_applied) | 현재 Ch6 스키마에 맞춤 |
| 8장: 다음 Task 예고 | **3단계(고급 기능)로 이동** | 이전 Task 참조 기능이 필요하며 현재 미구현 |
| 업로드 방법 2가지 (파일, 붙여넣기) | **3가지** (파일, 폴더, 붙여넣기) | 현재 시스템이 폴더 업로드도 지원 |
| 실습 4유형 | **5단계** (Follow Along → Fill Blanks → Modify → Debug → Create) | 현재 스펙의 5단계 설계를 반영 |
| Q&A 답변 → 교재에 추가 | **3단계(고급 기능)로 이동** | 현재 LearningDocument는 immutable(FR-038)로 설계됨 |

---

*— 문서 끝 —*
